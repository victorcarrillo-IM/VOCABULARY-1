<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Word Challenge</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f9ff; /* A light, clinical blue */
            background-image:
                linear-gradient(rgba(227, 242, 253, 0.95), rgba(227, 242, 253, 0.95)),
                url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2390cdf4' fill-opacity='0.2'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            transition: background-color 0.5s ease-in-out;
        }
        .keyboard-btn {
            transition: all 0.2s ease-in-out;
        }
        .keyboard-btn:hover {
            transform: scale(1.1);
            background-color: #38bdf8; /* sky-500 */
        }
        .keyboard-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            background-color: #94a3b8; /* slate-400 */
        }
        .heart-icon {
            transition: color 0.3s ease;
        }
        @keyframes strike {
            0% { transform: scale(0.5) rotate(-45deg); opacity: 0; }
            50% { transform: scale(1.2) rotate(10deg); }
            70% { transform: scale(0.9) rotate(-10deg); }
            100% { transform: scale(1.0) rotate(0deg); opacity: 1; }
        }
        .strike-animation {
            animation: strike 0.5s ease-out;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen">

    <div class="w-full max-w-2xl mx-auto p-4 md:p-6 bg-white rounded-2xl shadow-2xl text-center">
        <h1 class="text-3xl md:text-4xl font-bold text-slate-800 mb-2">Health Word Challenge</h1>
        <p class="text-slate-500 mb-4">Guess the letters to reveal the hidden word!</p>

        <!-- Score and Time counters -->
        <div class="flex justify-between items-center mb-4 px-4 text-slate-600 text-lg">
            <div>Score: <span id="score" class="font-bold text-sky-600">0</span></div>
            <div>Time: <span id="timer" class="font-bold text-red-500">30</span></div>
        </div>

        <!-- Villain container -->
        <div id="lives-container" class="flex justify-center items-center space-x-2 mb-6 h-12">
            <!-- Viruses will be generated by JavaScript -->
        </div>

        <!-- Word Display -->
        <div id="word-container" class="text-4xl md:text-5xl font-semibold tracking-widest text-slate-700 my-8 h-16 flex items-center justify-center">
            <!-- Word with blanks will be shown here -->
        </div>

        <!-- Message Display -->
        <div id="message-container" class="h-8 mb-4 text-xl font-medium">
            <!-- Messages like "Correct!" or "Game Over!" will appear here -->
        </div>

        <!-- On-screen Keyboard -->
        <div id="keyboard-container" class="grid grid-cols-7 sm:grid-cols-9 gap-2 my-6">
            <!-- Keyboard buttons will be generated by JavaScript -->
        </div>

        <!-- New Game Button -->
        <button id="new-game-btn" class="w-full sm:w-auto px-8 py-3 bg-sky-500 text-white font-bold rounded-lg shadow-md hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-opacity-75 transition-transform transform hover:scale-105">
            New Word
        </button>

    </div>

    <script>
        const words = [
            'DIET', 'DISEASE', 'EXERCISE', 'FASTFOOD', 'HABITS', 'HEALTH',
            'LIFESTYLE', 'MEDIA', 'NUTRIENTS', 'OBESITY', 'PERSUASION',
            'PREVENTION', 'SNACK', 'TUTORIAL', 'VACCINE'
        ];

        const wordContainer = document.getElementById('word-container');
        const keyboardContainer = document.getElementById('keyboard-container');
        const newGameBtn = document.getElementById('new-game-btn');
        const messageContainer = document.getElementById('message-container');
        const livesContainer = document.getElementById('lives-container');
        const scoreEl = document.getElementById('score');
        const timerEl = document.getElementById('timer');

        let currentWord = '';
        let guessedWord = [];
        let incorrectGuesses = 0;
        const maxIncorrectGuesses = 6;
        
        let score = 0;
        let timeLeft = 0;
        let timerInterval;
        const timePerWord = 30; // 30 seconds per word

        const backgroundColors = [
            '#f0f9ff', // Level 0: light blue
            '#f0fdf4', // Level 1: light green
            '#fefce8', // Level 2: light yellow
            '#fff7ed', // Level 3: light orange
            '#fdf2f8', // Level 4: light pink
            '#faf5ff', // Level 5: light purple
            '#eff6ff'  // Level 6: indigo
        ];

        function selectNewWord() {
            currentWord = words[Math.floor(Math.random() * words.length)];
            guessedWord = Array(currentWord.length).fill('_');
            incorrectGuesses = 0;
        }

        function renderWord() {
            wordContainer.innerHTML = guessedWord.join(' ');
            checkGameState();
        }

        function renderKeyboard() {
            keyboardContainer.innerHTML = '';
            const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            for (const letter of alphabet) {
                const button = document.createElement('button');
                button.textContent = letter;
                button.classList.add('keyboard-btn', 'p-2', 'sm:p-3', 'text-lg', 'font-bold', 'bg-slate-200', 'text-slate-700', 'rounded-lg', 'shadow-sm');
                button.addEventListener('click', () => handleGuess(letter, button));
                keyboardContainer.appendChild(button);
            }
        }

        function handleGuess(letter, button) {
            button.disabled = true;

            if (currentWord.includes(letter)) {
                // Correct guess
                for (let i = 0; i < currentWord.length; i++) {
                    if (currentWord[i] === letter) {
                        guessedWord[i] = letter;
                    }
                }
                button.classList.remove('bg-slate-200');
                button.classList.add('bg-green-400', 'text-white');
                showMessage('Correct!', 'text-green-600');
            } else {
                // Incorrect guess
                incorrectGuesses++;
                
                const virusWrapper = document.createElement('div');
                virusWrapper.classList.add('virus-icon', 'inline-block', 'text-red-500', 'strike-animation');
                const virusSVG = `
                <svg class="w-12 h-12" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="50" cy="50" r="35" fill="currentColor"/>
                    <g stroke="currentColor" stroke-width="5" stroke-linecap="round">
                        <line x1="50" y1="5" x2="50" y2="20" /><line x1="50" y1="95" x2="50" y2="80" />
                        <line x1="5" y1="50" x2="20" y2="50" /><line x1="95" y1="50" x2="80" y2="50" />
                        <line x1="18" y1="18" x2="28" y2="28" /><line x1="82" y1="82" x2="72" y2="72" />
                        <line x1="18" y1="82" x2="28" y2="72" /><line x1="82" y1="18" x2="72" y2="28" />
                    </g>
                    <g stroke="white" stroke-width="5" stroke-linecap="round" fill="none">
                        <line x1="35" y1="42" x2="45" y2="38" /><line x1="65" y1="42" x2="55" y2="38" />
                        <path d="M35 65 L45 58 L55 58 L65 65" />
                    </g>
                </svg>`;
                virusWrapper.innerHTML = virusSVG;
                livesContainer.appendChild(virusWrapper);
                
                button.classList.remove('bg-slate-200');
                button.classList.add('bg-red-400', 'text-white');
                showMessage('Try again!', 'text-red-600');
            }

            renderWord();
        }

        function checkGameState() {
            if (guessedWord.join('') === currentWord) {
                // Win condition
                clearInterval(timerInterval);
                const pointsEarned = timeLeft * 10;
                score += pointsEarned;
                scoreEl.textContent = score;

                showMessage(`+${pointsEarned} points! Well done!`, 'text-sky-600');
                updateBackgroundColor();
                disableKeyboard();
            } else if (incorrectGuesses >= maxIncorrectGuesses) {
                // Lose condition
                clearInterval(timerInterval);
                showMessage(`The word was: ${currentWord}`, 'text-slate-700');
                wordContainer.textContent = currentWord.split('').join(' ');
                disableKeyboard();
            }
        }

        function disableKeyboard() {
            const buttons = keyboardContainer.getElementsByTagName('button');
            for (const button of buttons) {
                button.disabled = true;
            }
        }
        
        function showMessage(text, colorClass) {
            messageContainer.textContent = text;
            messageContainer.className = `h-8 mb-4 text-xl font-medium ${colorClass}`;
        }

        function startGame() {
            selectNewWord();
            livesContainer.innerHTML = '';
            renderWord();
            renderKeyboard();
            showMessage('Good luck!', 'text-slate-500');
            startTimer();
        }
        
        function startTimer() {
            timeLeft = timePerWord;
            timerEl.textContent = timeLeft;
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeLeft--;
                timerEl.textContent = timeLeft;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    handleTimeUp();
                }
            }, 1000);
        }

        function handleTimeUp() {
            showMessage(`Time's up! The word was: ${currentWord}`, 'text-slate-700');
            wordContainer.textContent = currentWord.split('').join(' ');
            disableKeyboard();
        }
        
        function updateBackgroundColor() {
            const level = Math.floor(score / 1000);
            const colorIndex = Math.min(level, backgroundColors.length - 1);
            document.body.style.backgroundColor = backgroundColors[colorIndex];
        }

        newGameBtn.addEventListener('click', startGame);

        // Initial game start
        startGame();
    </script>
</body>
</html>



